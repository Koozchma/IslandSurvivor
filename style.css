:root {
    --primary-font: 'Poppins', sans-serif;
    --monospace-font: 'Roboto Mono', monospace;
    --bg-color: #1a1a2e;
    --container-bg: #162447;
    --card-bg: #1f4068;
    --section-bg: rgba(0,0,0, 0.15);
    --text-color: #e0e0e0;
    --primary-accent: #274c79;
    --secondary-accent: #e43f5a; /* Using red/pink as main accent again */
    --positive-feedback: #2ecc71;
    --negative-feedback: #e74c3c;
    --warning-feedback: #f39c12;
    --neutral-feedback: #f0f0f0;
    --border-color: #394867;
    --shadow-color: rgba(0, 0, 0, 0.3);
    --button-bg: #e43f5a;
    --button-hover-bg: #c0392b;
    --upgrade-button-bg: #3498db; /* Blue for needs/career upgrades */
    --upgrade-button-hover-bg: #2980b9;
    --factory-button-bg: #1abc9c; /* Teal for factory buttons */
    --factory-button-hover-bg: #16a085;

    /* Science Color */
    --science-color: #3498db; /* Using blue for science */
    --science-button-bg: var(--science-color);
    --science-button-hover-bg: #2980b9;

    /* New Tech Tree/Research Color */
    --research-color: #f39c12; /* Orange for research */
    --research-button-bg: var(--research-color);
    --research-button-hover-bg: #e67e22;

    /* Adjusted Sizes */
    --font-size-base: 0.9em;
    --font-size-heading: 1.3em;
    --font-size-subheading: 1.1em;
    --padding-base: 12px;
    --margin-base: 15px;
    --card-padding: 12px;
}

body {
    font-family: var(--primary-font);
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    margin: 0;
    background: linear-gradient(135deg, var(--bg-color) 0%, #12121c 100%);
    color: var(--text-color);
    text-align: center;
    padding: var(--padding-base);
    box-sizing: border-box;
    overflow-y: auto;
}

.container {
    background-color: var(--container-bg);
    padding: var(--padding-base) * 1.5 var(--padding-base) * 2; /* 18px 24px */
    border-radius: 10px; /* Slightly smaller radius */
    box-shadow: 0 8px 20px var(--shadow-color); /* Smaller shadow */
    max-width: 700px; /* Reduced max width */
    width: 100%;
    border: 1px solid var(--border-color);
    margin-bottom: var(--margin-base);
}

header { margin-bottom: var(--margin-base); }
h1 { font-size: 2em; /* Reduced h1 size */ font-weight: 700; color: var(--secondary-accent); margin: 0 0 3px 0; letter-spacing: 0.8px; }
.subtitle { font-size: var(--font-size-base); font-weight: 300; color: var(--text-color); opacity: 0.8; margin: 0; }

h2 { font-size: var(--font-size-heading); color: var(--secondary-accent); margin-bottom: var(--padding-base); }
h3 { font-size: var(--font-size-subheading); margin: 0 0 var(--padding-base) * 0.75 0; } /* 9px bottom margin */

/* Status Bars Section */
.status-bars-section {
    display: flex;
    justify-content: space-around;
    gap: var(--padding-base); /* Reduced gap */
    margin-bottom: var(--margin-base);
    padding: var(--padding-base);
    background-color: var(--section-bg);
    border-radius: 8px; /* Slightly smaller radius */
}
.status-bar-container { flex: 1; min-width: 120px; /* Reduced min width */ }
.status-bar-container label { display: block; font-size: calc(var(--font-size-base) * 0.9); margin-bottom: 3px; color: var(--neutral-feedback); } /* Smaller label font */
.progress-bar-outer { background-color: var(--primary-accent); border-radius: 6px; /* Smaller radius */ height: 20px; /* Reduced height */ padding: 2px; /* Reduced padding */ position: relative; box-shadow: inset 0 1px 2px rgba(0,0,0,0.3); overflow: hidden; } /* Smaller shadow */
.progress-bar-inner { height: 100%; border-radius: 4px; /* Smaller radius */ transition: width 0.3s ease-in-out, background-color 0.3s ease; width: 100%; }
#healthBar { background-color: var(--positive-feedback); }
#hungerBar { background-color: var(--positive-feedback); }
.progress-bar-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: calc(var(--font-size-base) * 0.75); font-weight: bold; color: #fff; text-shadow: 1px 1px 1px rgba(0,0,0,0.5); white-space: nowrap; } /* Smaller text */

.game-area { margin-bottom: var(--margin-base); padding: var(--padding-base); background-color: var(--section-bg); border-radius: 8px; }
.capital-wrapper { position: relative; margin-bottom: var(--padding-base) * 0.75; } /* Reduced margin */
.capital-label { font-size: var(--font-size-base); margin: 0 0 2px 0; } /* Smaller label font */
.capital-amount { font-family: var(--monospace-font); font-size: 2em; /* Reduced size */ margin: 0;}

.feedback-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 1.2em; /* Reduced size */ font-weight: bold; opacity: 0; transition: opacity 0.5s ease-out, transform 0.5s ease-out; pointer-events: none; }
.feedback-text.show { opacity: 1; transform: translate(-50%, -100%); }

button { background-color: var(--button-bg); color: white; border: none; padding: 10px 15px; /* Reduced padding */ font-size: var(--font-size-base); font-weight: 600; border-radius: 5px; cursor: pointer; transition: all 0.2s ease; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2); display: flex; align-items: center; justify-content: center; gap: 6px; margin: 0 auto 6px auto; width: fit-content; } /* Reduced padding, gap, shadow, margin */
button:hover { background: var(--button-hover-bg); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); transform: translateY(-1px); } /* Reduced shadow, transform */
button:active { transform: translateY(0); box-shadow: 0 1px 8px rgba(0, 0, 0, 0.2); } /* Reduced shadow */
button:disabled { background-color: var(--disabled-bg); cursor: not-allowed; opacity: 0.7; } /* Added opacity for disabled */

#earnButton { background: linear-gradient(145deg, var(--primary-accent), #3b6aa0); /* Kept gradient */ margin: 0 auto 8px auto; } /* Specific margin for earn button */

.button-icon { font-size: var(--font-size-base); } /* Adjusted size */
.button-value { font-size: calc(var(--font-size-base) * 0.9); opacity: 0.8; font-family: var(--monospace-font); } /* Adjusted size */

.interest-info, .cps-info, .maintenance-info, .net-gain-info { font-size: calc(var(--font-size-base) * 0.9); margin: 3px 0; } /* Reduced font size and margin */
.cps-info span { color: var(--positive-feedback); font-family: var(--monospace-font); }
.maintenance-info span { color: var(--negative-feedback); font-family: var(--monospace-font); }
#netGainDisplay.positive { color: var(--positive-feedback); font-family: var(--monospace-font); }
#netGainDisplay.negative { color: var(--negative-feedback); font-family: var(--monospace-font); }


/* Career Section */
.career-section { margin-bottom: var(--margin-base); padding: var(--padding-base); background-color: var(--section-bg); border-radius: 8px;}
.career-card { background-color: var(--card-bg); padding: var(--card-padding); border-radius: 8px; border: 1px solid var(--border-color); box-shadow: 0 4px 12px rgba(0,0,0,0.15); } /* Reduced padding, radius, shadow */
.career-card p { font-size: var(--font-size-base); margin: 5px 0; } /* Reduced font size and margin */
.career-card p span { font-family: var(--monospace-font); font-weight: bold; color: var(--neutral-feedback); }
.promotion-progress-container { display: flex; align-items: center; justify-content: space-between; gap: 8px; margin-top: var(--padding-base) * 0.75; } /* Reduced gap and margin */
.promotion-progress-container button { flex-grow: 1; background-color: var(--upgrade-button-bg); padding: 8px 12px; font-size: var(--font-size-base); } /* Reduced padding, font size */
.click-progress-visual-container { width: 18px; /* Reduced width */ height: 40px; /* Reduced height */ background-color: var(--primary-accent); border-radius: 4px; /* Reduced radius */ position: relative; overflow: hidden; margin: 0 4px; } /* Reduced margin */
.click-progress-bar-vertical { width: 100%; height: 0%; background-color: var(--positive-feedback); position: absolute; bottom: 0; left: 0; transition: height 0.2s ease-out; }
#promotionClicksDisplay { font-size: calc(var(--font-size-base) * 0.9); font-family: var(--monospace-font); min-width: 60px; /* Adjusted min width */ text-align: right; }


/* Needs Section */
.needs-section { margin-bottom: var(--margin-base); padding: var(--padding-base); background-color: var(--section-bg); border-radius: 8px; }
.needs-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); /* Reduced min width */ gap: var(--padding-base); } /* Reduced gap */
.need-card { background-color: var(--card-bg); padding: var(--card-padding); border-radius: 8px; border: 1px solid var(--border-color); box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; flex-direction: column; } /* Reduced padding, radius, shadow */
.need-card h3 { font-size: var(--font-size-subheading); margin: 0 0 8px 0; } /* Reduced font size and margin */
.need-card p { font-size: var(--font-size-base); margin: 5px 0; flex-grow: 1; } /* Reduced font size and margin */
.need-card p span { font-family: var(--monospace-font); font-weight: bold; }
.need-card button { background-color: var(--upgrade-button-bg); padding: 8px 12px; font-size: var(--font-size-base); margin-top: 8px; } /* Reduced padding, font size, margin */
#manualForageButton { background-color: var(--positive-feedback); margin-top: 5px; padding: 8px 12px; font-size: var(--font-size-base); } /* Reduced margin, padding, font size */


/* Science Section Styles */
.science-section { margin-bottom: var(--margin-base); padding: var(--padding-base); background-color: var(--section-bg); border-radius: 8px; }
.science-section h2 { font-size: var(--font-size-heading); color: var(--science-color); margin-bottom: var(--padding-base); }
.science-card { background-color: var(--card-bg); padding: var(--card-padding); border-radius: 8px; border: 1px solid var(--border-color); box-shadow: 0 4px 12px rgba(0,0,0,0.15); display: flex; flex-direction: column; }
.science-card p { font-size: var(--font-size-base); margin: 5px 0; flex-grow: 1; }
.science-card p span { font-family: var(--monospace-font); font-weight: bold; color: var(--science-color); }
.science-card button { background-color: var(--science-button-bg); padding: 8px 12px; font-size: var(--font-size-base); margin-top: 8px; }

/* New Science Tech Tree Section Styles */
.tech-tree-section { margin-bottom: var(--margin-base); padding: var(--padding-base); background-color: var(--section-bg); border-radius: 8px; }
.tech-tree-section h2 { font-size: var(--font-size-heading); color: var(--research-color); margin-bottom: var(--padding-base); }
.tech-tree-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Grid for research items */ gap: var(--padding-base); }
.research-item-card { background-color: var(--card-bg); padding: var(--card-padding); border-radius: 8px; border: 1px solid var(--border-color); box-shadow: 0 4px 12px rgba(0,0,0,0.1); display: flex; flex-direction: column; justify-content: space-between; text-align: left; }
.research-item-card h3 { font-size: calc(var(--font-size-subheading) * 0.9); margin: 0 0 5px 0; color: var(--research-color); } /* Smaller title for research */
.research-item-card p { font-size: calc(var(--font-size-base) * 0.85); margin: 3px 0; opacity: 0.9; } /* Smaller body text */
.research-item-card .research-cost { font-family: var(--monospace-font); font-weight: bold; color: var(--neutral-feedback); margin-top: 5px; }
.research-item-card button { background-color: var(--research-button-bg); color: white; padding: 8px 12px; font-size: var(--font-size-base); font-weight: 600; border-radius: 5px; cursor: pointer; transition: background-color 0.2s ease; margin-top: 8px; width: 100%; }
.research-item-card button:hover:not(:disabled) { background-color: var(--research-button-hover-bg); }
.research-item-card button:disabled { background-color: var(--disabled-bg); cursor: not-allowed; opacity: 0.7; }


/* Factories Section */
.factories-section { margin-bottom: var(--margin-base); padding: var(--padding-base); background-color: var(--section-bg); border-radius: 8px; }
.factories-section h2 { font-size: var(--font-size-heading); color: var(--secondary-accent); margin-bottom: var(--padding-base); }
.factories-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* Reduced min width */ gap: var(--padding-base); } /* Reduced gap */
.factory-card { background-color: var(--card-bg); padding: var(--card-padding); border-radius: 8px; border: 1px solid var(--border-color); box-shadow: 0 4px 12px rgba(0,0,0,0.1); display: flex; flex-direction: column; justify-content: space-between; } /* Reduced padding, radius, shadow */
.factory-card h3 { font-size: calc(var(--font-size-subheading) * 0.95); margin: 0 0 8px 0; color: var(--neutral-feedback); } /* Adjusted size */
.factory-card p { font-size: calc(var(--font-size-base) * 0.9); margin: 3px 0; opacity: 0.9; } /* Adjusted size */
.factory-card p span { font-family: var(--monospace-font); font-weight: bold; }
.factory-card button { background-color: var(--factory-button-bg); color: #111; padding: 8px 12px; font-size: var(--font-size-base); margin-top: 8px; } /* Reduced padding, font size, margin */


.storyline { margin-top: var(--margin-base); padding: var(--padding-base); border-top: 1px solid var(--border-color); background-color: rgba(255, 255, 255, 0.03); border-radius: 8px; }
.storyline h2 { font-size: var(--font-size-heading); margin-bottom: 6px; } /* Adjusted size and margin */
.storyline p { font-size: var(--font-size-base); line-height: 1.5; margin-bottom: 8px; } /* Adjusted size and margin */
.progress-bar-container { width: 100%; background-color: var(--primary-accent); border-radius: 4px; height: 10px; margin-top: 6px; overflow: hidden; } /* Reduced height and margin */
.progress-bar { width: 0%; height: 100%; background-color: var(--positive-feedback); border-radius: 4px; transition: width 0.5s ease-in-out; }

footer { margin-top: var(--margin-base); font-size: calc(var(--font-size-base) * 0.9); color: var(--text-color); opacity: 0.7; } /* Adjusted size */

@keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.03); color: #aaffaa; } 100% { transform: scale(1); } } /* Slightly smaller pulse */
.capital-amount.pulsing { animation: pulse 0.3s ease-out; }

/* Utility class to hide elements */
.hidden {
    display: none;
}

/* Game Over Modal */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); display: flex; justify-content: center; align-items: center; z-index: 1000; }
.modal-content { background-color: var(--container-bg); padding: var(--padding-base) * 2; /* Reduced padding */ border-radius: 10px; border: 1px solid var(--border-color); box-shadow: 0 8px 20px var(--shadow-color); text-align: center; max-width: 350px; /* Reduced max width */ }
.modal-content h2 { color: var(--secondary-accent); font-size: 1.8em; /* Reduced size */ margin-bottom: var(--padding-base); }
.modal-content p { font-size: var(--font-size-base) * 1.1; margin-bottom: var(--padding-base) * 1.5; color: var(--text-color); }
.modal-content button { background-color: var(--positive-feedback); color: white; padding: 10px 20px; font-size: var(--font-size-base) * 1.1; border-radius: 5px; cursor: pointer; transition: background-color 0.2s ease; }
.modal-content button:hover { background-color: #27ae60; }
